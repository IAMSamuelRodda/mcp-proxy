{
  "_variables": {
    "_comment": "These variables are expanded by bootstrap.sh when deploying:",
    "MCP_SERVERS_DIR": "~/.claude/mcp-servers (default)",
    "MCP_PROXY_DIR": "~/.claude/mcp-proxy (default)",
    "HOME": "User home directory"
  },
  "mcpProxy": {
    "name": "MCP Proxy",
    "version": "1.0.0",
    "type": "stdio",
    "hierarchyPath": "${MCP_PROXY_DIR}/hierarchy",
    "options": {
      "lazyLoad": true,
      "preloadAll": true,

      "_comment_secrets": "Secrets provider: 'none' (default), 'openbao', 'env'",
      "_comment_secrets_simple": "For simple mode, use 'none' and configure envFile per server",
      "_comment_secrets_secure": "For secure mode, use 'openbao' with --secure bootstrap flag",
      "secretsProvider": "none",
      "secretsAutoStart": false,
      "secretsAutoStartCmd": "",
      "secretsProviderAddr": "",
      "secretsSessionPath": "",
      "secretsSessionEnvVar": ""
    }
  },
  "mcpServers": {
    "_comment": "Each server needs a 'source' field for installation by bootstrap.sh",

    "example-with-env-file": {
      "_comment": "Simple mode: Load secrets from .env file",
      "source": {
        "type": "git",
        "url": "https://github.com/user/mcp-server.git"
      },
      "transportType": "stdio",
      "command": "${MCP_SERVERS_DIR}/example-with-env-file/.venv/bin/python",
      "args": ["${MCP_SERVERS_DIR}/example-with-env-file/server.py"],
      "envFile": "${MCP_SERVERS_DIR}/example-with-env-file/.env",
      "env": {},
      "options": { "lazyLoad": true }
    },

    "example-with-inline-env": {
      "_comment": "Simple mode: Inline environment variables (less secure, visible in config)",
      "source": {
        "type": "git",
        "url": "https://github.com/user/mcp-server.git"
      },
      "transportType": "stdio",
      "command": "${MCP_SERVERS_DIR}/example-with-inline-env/.venv/bin/python",
      "args": ["${MCP_SERVERS_DIR}/example-with-inline-env/server.py"],
      "env": {
        "API_KEY": "your-api-key-here",
        "API_URL": "https://api.example.com"
      },
      "options": { "lazyLoad": true }
    },

    "example-local": {
      "_comment": "Server installed from local dev repo (copied, not symlinked)",
      "source": {
        "type": "local",
        "path": "~/repos/my-mcp-server"
      },
      "transportType": "stdio",
      "command": "${MCP_SERVERS_DIR}/example-local/.venv/bin/python",
      "args": ["${MCP_SERVERS_DIR}/example-local/server.py"],
      "envFile": "${MCP_SERVERS_DIR}/example-local/.env",
      "env": {},
      "options": { "lazyLoad": true }
    },

    "example-module": {
      "_comment": "Python module entrypoint (-m pattern)",
      "source": {
        "type": "git",
        "url": "https://github.com/user/mcp-server.git"
      },
      "transportType": "stdio",
      "command": "${MCP_SERVERS_DIR}/example-module/.venv/bin/python",
      "args": ["-m", "mcp_server.server"],
      "envFile": "${MCP_SERVERS_DIR}/example-module/.env",
      "env": {
        "PYTHONPATH": "${MCP_SERVERS_DIR}/example-module"
      },
      "options": { "lazyLoad": true }
    },

    "example-remote": {
      "_comment": "Remote HTTP server (no source needed, no installation)",
      "transportType": "streamable-http",
      "url": "https://example.com/mcp",
      "options": { "lazyLoad": true }
    }
  }
}
